namespace SpriteKind {
    export const shado = SpriteKind.create()
    export const coin = SpriteKind.create()
    export const gost = SpriteKind.create()
    export const theflash = SpriteKind.create()
    export const uper = SpriteKind.create()
    export const goast2 = SpriteKind.create()
    export const goast3 = SpriteKind.create()
    export const dddd = SpriteKind.create()
}
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`
    //% blockIdentity=images._tile
    export const tile1 = img`
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
2 b b 2 2 b 2 b 2 b 2 b b 2 2 b 
2 b b 2 b b 2 b 2 b 2 b b 2 b b 
2 b b 2 2 b 2 b 2 b 2 b b 2 2 b 
2 b b 2 b b 2 b 2 b 2 b b 2 b b 
2 2 b 2 2 b b 2 b b 2 2 b 2 2 b 
b b b b b b b b b b b b b b b b 
b b b b b 2 2 b b b b b b b b b 
b b b b b b 2 b b b b b b b b b 
b b b b b b 2 b b b b b b b b b 
b b b b b b 2 b b b b b b b b b 
b b b b b 2 2 2 b b b b b b b b 
b b b b b b b b b b b b b b b b 
`
    //% blockIdentity=images._tile
    export const tile2 = img`
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
2 b b 2 2 b 2 b 2 b 2 b b 2 2 b 
2 b b 2 b b 2 b 2 b 2 b b 2 b b 
2 b b 2 2 b 2 b 2 b 2 b b 2 2 b 
2 b b 2 b b 2 b 2 b 2 b b 2 b b 
2 2 b 2 2 b b 2 b b 2 2 b 2 2 b 
b b b b b b b b b b b b b b b b 
b b b b b b 2 2 b b b b b b b b 
b b b b b b b b 2 b b b b b b b 
b b b b b b 2 2 b b b b b b b b 
b b b b b b 2 b b b b b b b b b 
b b b b b b 2 2 2 b b b b b b b 
b b b b b b b b b b b b b b b b 
`
    //% blockIdentity=images._tile
    export const tile3 = img`
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
b b b b b b b b b b b b b b b b 
2 b b 2 2 b 2 b 2 b 2 b b 2 2 b 
2 b b 2 b b 2 b 2 b 2 b b 2 b b 
2 b b 2 2 b 2 b 2 b 2 b b 2 2 b 
2 b b 2 b b 2 b 2 b 2 b b 2 b b 
2 2 b 2 2 b b 2 b b 2 2 b 2 2 b 
b b b b b b b b b b b b b b b b 
b b b b b b 2 2 b b b b b b b b 
b b b b b b b b 2 b b b b b b b 
b b b b b b 2 2 b b b b b b b b 
b b b b b b b b 2 b b b b b b b 
b b b b b b 2 2 b b b b b b b b 
b b b b b b b b b b b b b b b b 
`
    //% blockIdentity=images._tile
    export const tile4 = img`
b d d d d d d d d d d d d d d c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
c . c . c . . c . c . c . c c a 
`
    //% blockIdentity=images._tile
    export const tile5 = img`
b d d d d d d d d d d d d d d c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
c . c . c . . c . c . . . . c a 
`
    //% blockIdentity=images._tile
    export const tile6 = img`
b d d d d d d d d d d d d d d c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
. c c c c c c . . . c c c c . a 
`
    //% blockIdentity=images._tile
    export const tile7 = img`
b d d d d d d d d d d d d d d c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
d b b b b b b b b b b b b b b c 
. c c c c . c . . . c . c c . a 
`
    //% blockIdentity=images._tile
    export const tile8 = img`
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
2 d d 2 2 d 2 d 2 d 2 d d 2 2 d 
2 d d 2 d d 2 d 2 d 2 d d 2 d d 
2 d d 2 2 d 2 d 2 d 2 d d 2 2 d 
2 d d 2 d d 2 d 2 d 2 d d 2 d d 
2 2 d 2 2 d d 2 d d 2 2 d 2 2 d 
d d d d d d d d d d d d d d d d 
d d d d 2 d 2 d d d d d d d d d 
d d d d 2 d 2 d d d d d d d d d 
d d d d 2 2 2 d d d d d d d d d 
d d d d d d 2 d d d d d d d d d 
d d d d d d 2 d d d d d d d d d 
d d d d d d d d d d d d d d d d 
`
    //% blockIdentity=images._tile
    export const tile9 = img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . b b b . . . . . . . 
. . . . . . b b b . . . . . . . 
. . . . . . b b b . . . . . . . 
. . . . . . b b b . . . . . . . 
. . . . b b b b b b b . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`
    //% blockIdentity=images._tile
    export const tile10 = img`
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 6 
`
    //% blockIdentity=images._tile
    export const tile11 = img`
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
2 d d 2 2 d 2 d 2 d 2 d d 2 2 d 
2 d d 2 d d 2 d 2 d 2 d d 2 d d 
2 d d 2 2 d 2 d 2 d 2 d d 2 2 d 
2 d d 2 d d 2 d 2 d 2 d d 2 d d 
2 2 d 2 2 d d 2 d d 2 2 d 2 2 d 
d d d d d d d d d d d d d d d d 
d d d d d d d d d d d d d d d d 
d d d d d 2 2 2 d d d d d d d d 
d d d d d 2 d d d d d d d d d d 
d d d d d 2 2 2 d d d d d d d d 
d d d d d d d 2 d d d d d d d d 
d d d d d 2 2 2 d d d d d d d d 
`
}
controller.menu.onEvent(ControllerButtonEvent.Pressed, function () {
    blockSettings.clear()
    game.reset()
})
function level4 () {
    lantern.startLanternEffect(the_payer_1)
    game.splash("git all coins and", "defeat all goats ")
    scene.setBackgroundColor(14)
    tiles.setTilemap(tiles.createTilemap(
            hex`320010003d333d3e3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d333d3e3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d333d3e3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d333d3e3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d333d3d3e3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d4242424242424242423d3d3d3d3d3d3d3d3d3d3d3d3d333d3d3e3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d423d3d3d42424242423d3d3d3d3d3d3d3d3d3d3d3d3d333d3d3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e413e3d3d3d3d424243434343433d3d3d3d3d3d3d3d333d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3e0505050505053e3e3e3e3e3e413e133d3d13424343434343433d3d3d3d3d3d3d3d333d3d3d3d3d3d333d3d3d3d3d3d3d3d3e053d3d3d3d05130531133e3e453e30133d3d132e13131344433d3d3d3d3d3d3d3d3d3333333333333d333d333d3333333330053d3d403d05050505452f2f453e30133d3d132e13291344433d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d333d333d413d3d3e053d3d3d3d05130531133e3e453e30133d3d132e13131344433d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3e3e3e3d3d3e0505050505053e3e3e3e3e3e413e133d3d3d424243434343433d3d3d3d3d3d3d3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e3e413e3d3d3d3d424243434343433d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d413d3d3d3d3d3d3d3d3d3d3d3d423d3d3d42424242423d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d4242424242424242423d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d3d`,
            img`
. . . 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
. . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . 2 2 2 2 2 2 2 2 2 . . . . . . . . . . . . 
. . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . 2 . . . 2 2 2 2 2 . . . . . . . . . . . . 
. . . . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 2 . . . . 2 2 2 2 2 2 2 . . . . . . . 
. . . . . . . . . . . . . . . . . 2 . . . . . . 2 2 2 2 2 2 . 2 . . . . 2 2 2 2 2 2 2 . . . . . . . 
. . . . . . . . . . . . . . . . . 2 . . . . . . . . . . 2 2 . 2 . . . . . . . . . 2 2 . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 . . . . . . . . . 2 2 . . . . . . . 
. . . . . . . . . . . . . . . . . 2 . . . . . . . . . . 2 2 . 2 . . . . . . . . . 2 2 . . . . . . . 
. . . . . . . . . . . . 2 2 2 . . 2 . . . . . . 2 2 2 2 2 2 . 2 . . . . 2 2 2 2 2 2 2 . . . . . . . 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 2 . . . . 2 2 2 2 2 2 2 . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 . . . 2 2 2 2 2 . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 2 2 2 2 2 2 2 2 . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,sprites.dungeon.greenOuterNorth0,sprites.dungeon.purpleOuterNorth1,sprites.dungeon.purpleOuterNorthEast,sprites.dungeon.purpleOuterEast0,sprites.dungeon.floorDark2,sprites.dungeon.purpleInnerSouthEast,sprites.dungeon.purpleOuterSouthEast,sprites.dungeon.purpleOuterNorthWest,sprites.dungeon.purpleInnerNorthWest,sprites.dungeon.purpleOuterSouthWest,sprites.dungeon.stairLarge,sprites.dungeon.purpleOuterSouth1,sprites.dungeon.purpleOuterWest0,sprites.dungeon.floorLight2,sprites.dungeon.floorDark5,sprites.dungeon.stairEast,sprites.dungeon.purpleOuterNorth2,sprites.dungeon.floorMixed,sprites.dungeon.floorDark0,sprites.dungeon.purpleOuterNorth0,sprites.dungeon.purpleOuterEast1,sprites.dungeon.purpleOuterWest1,sprites.dungeon.purpleInnerNorthEast,sprites.dungeon.doorOpenSouth,sprites.dungeon.purpleInnerSouthWest,sprites.dungeon.purpleOuterSouth2,sprites.dungeon.purpleOuterWest2,sprites.dungeon.floorLight5,sprites.dungeon.darkGroundNorth,sprites.dungeon.darkGroundSouth,sprites.dungeon.darkGroundCenter,sprites.dungeon.purpleOuterSouth0,sprites.dungeon.doorOpenEast,sprites.dungeon.floorDarkDiamond,sprites.dungeon.floorLightMoss,sprites.dungeon.floorLight3,sprites.dungeon.floorDark3,sprites.dungeon.purpleOuterEast2,sprites.dungeon.purpleSwitchUp,sprites.dungeon.collectibleRedCrystal,sprites.dungeon.collectibleInsignia,sprites.dungeon.floorDark1,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,sprites.castle.tilePath5,sprites.castle.tilePath4,sprites.castle.tilePath6,sprites.builtin.forestTiles10,sprites.builtin.forestTiles9,sprites.builtin.forestTiles11,sprites.builtin.forestTiles13,sprites.builtin.forestTiles6,sprites.builtin.forestTiles18,sprites.castle.tileGrass1,sprites.castle.tileDarkGrass1,sprites.builtin.forestTiles0,myTiles.tile9,myTiles.tile10,sprites.castle.tileDarkGrass3,sprites.builtin.forestTiles4,sprites.builtin.forestTiles2,sprites.builtin.forestTiles1,sprites.dungeon.chestClosed,myTiles.tile11],
            TileScale.Sixteen
        ))
    tiles.placeOnTile(the_player_2, tiles.getTileLocation(0, 2))
    tiles.placeOnTile(the_payer_1, tiles.getTileLocation(1, 2))
    coins()
    fauten = sprites.create(myTiles.tile9, SpriteKind.dddd)
    tiles.placeOnRandomTile(fauten, myTiles.tile10)
    fauten.startEffect(effects.fountain)
}
scene.onOverlapTile(SpriteKind.Player, myTiles.tile1, function (sprite, location) {
    level = "level_1"
    level_1()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.uper, function (sprite, otherSprite) {
    if (x) {
        otherSprite.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . d d d d d d d d d . 
. . . . . d d d d d d d d d d . 
. . . . d d d d d d d d d d d . 
. . . d d d d d d d d d d d d . 
. . . . d d d d d d d d d d d . 
. . . . . d d d d d d d d d d . 
. . . . . . d d d d d d d d d . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`)
        otherSprite.image.flipX()
        otherSprite.x += -1
    } else {
        otherSprite.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . d d d d d d d d d . 
. . . . . d d d d d d d d d d . 
. . . . d d d d d d d d d d d . 
. . . d d d d d d d d d d d d . 
. . . . d d d d d d d d d d d . 
. . . . . d d d d d d d d d d . 
. . . . . . d d d d d d d d d . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`)
        otherSprite.x += 1
    }
    pause(1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.gost, function (sprite, otherSprite) {
    if (sprites.readDataBoolean(otherSprite, "life") || sprites.readDataBoolean(otherSprite, "life2")) {
        pause(100)
    } else {
        music.powerDown.play()
        info.changeLifeBy(-1)
        pause(500)
    }
})
sprites.onOverlap(SpriteKind.theflash, SpriteKind.gost, function (sprite, otherSprite) {
    otherSprite.follow(the_payer_1, 0)
    otherSprite.setVelocity(0, 0)
    otherSprite.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . . 1 1 1 1 1 . . . . . 
. . . . . 1 1 1 1 1 1 1 . . . . 
. . . . . 1 d d 1 d d 1 . . . . 
. . . . . 1 d d 1 d d 1 . . . . 
. . . . . 1 1 1 1 1 1 1 . . . . 
. . . . 1 1 1 1 1 1 1 d . . . . 
. . . 1 1 1 1 1 1 1 d d . . . . 
. 1 1 1 . 1 1 1 d d d 1 . . . . 
. 1 1 . . 1 1 1 d d 1 1 . . . . 
. . . . . . 1 1 1 1 1 . . . . . 
. . . . . . . 1 1 1 . . . . . . 
. . . . . . . . 1 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`)
    sprites.setDataBoolean(otherSprite, "life", true)
    pause(2000)
    sprites.setDataBoolean(otherSprite, "life", false)
    otherSprite.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . . 7 7 7 7 7 . . . . . 
. . . . . 7 7 7 7 7 7 7 . . . . 
. . . . . 7 6 1 7 6 1 7 . . . . 
. . . . . 7 6 1 7 6 1 7 . . . . 
. . . . . 7 7 7 7 7 7 7 . . . . 
. . . . 7 7 7 7 7 7 7 6 . . . . 
. . . 7 7 7 7 7 7 7 6 6 . . . . 
. 7 7 7 . 7 7 7 6 6 6 7 . . . . 
. 7 7 . . 7 7 7 6 6 7 7 . . . . 
. . . . . . 7 7 7 7 7 . . . . . 
. . . . . . . 7 7 7 . . . . . . 
. . . . . . . . 7 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`)
    otherSprite.follow(the_payer_1, 40)
})
sprites.onOverlap(SpriteKind.uper, SpriteKind.goast3, function (sprite, otherSprite) {
    if (sprites.readDataBoolean(otherSprite, "life") && sprites.readDataBoolean(otherSprite, "life2")) {
        otherSprite.destroy()
        music.baDing.play()
        info.changeScoreBy(3)
    }
    if (sprites.readDataBoolean(otherSprite, "life")) {
        sprites.setDataBoolean(otherSprite, "life", false)
        sprites.setDataBoolean(otherSprite, "life2", true)
        otherSprite.follow(the_payer_1, -100)
        pause(500)
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    the_payer_1.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . 7 7 7 7 7 7 . . . . . 
. . . . 7 7 7 7 7 7 7 7 7 . . . 
. . . . . e d 1 f d d . . . . . 
. . . . . e e 1 f d d d . . . . 
. . . . . d e d d d d . . . . . 
. . . . . . d d d d . . . . . . 
. . . . . 8 7 7 7 8 . . . . . . 
. 2 2 2 7 5 7 7 7 5 7 . . . . . 
4 2 7 7 7 8 7 7 7 8 7 7 . . . . 
4 2 7 2 7 8 7 7 7 8 7 2 2 . . . 
4 . 4 4 4 4 4 4 4 4 4 2 . . . . 
4 4 4 . 8 8 8 . 8 8 8 2 2 . . . 
. . . . 8 8 . . . 8 8 . . . . . 
. . . e e e . . . e e e . . . . 
. . e e e e . . . e e e e . . . 
`)
    the_payer_1.image.flipX()
    x = true
})
sprites.onOverlap(SpriteKind.goast3, SpriteKind.goast3, function (sprite, otherSprite) {
    sprite.x += 1
    otherSprite.x += -1
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile5, function (sprite, location) {
    tiles.setTileAt(location, sprites.dungeon.floorDark2)
    for (let value of tiles.getTilesByType(myTiles.tile4)) {
        gaost = sprites.create(img`
. . . . . . . 8 8 8 8 . . . . . 
. . . . . 8 8 8 8 8 8 8 . . . . 
. . . . . 8 8 8 8 8 8 8 . . . . 
. . . . . 8 9 1 8 9 1 8 . . . . 
. . . . . 8 9 1 8 9 1 8 . . . . 
. . . 6 6 8 8 8 8 8 8 8 6 6 . . 
. . . . 8 8 8 8 8 8 8 9 . . . . 
. . . 8 8 8 8 8 8 8 9 9 . . . . 
. 8 8 8 . 8 8 8 9 9 9 8 . . . . 
. 8 8 . . 8 8 8 9 9 8 8 . . . . 
. . . . . 8 8 8 8 8 8 8 . . . . 
. . . . . . 8 8 8 8 8 . . . . . 
. . . . . . . 8 8 8 . . . . . . 
. . . . . . . . 8 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.goast2)
        tiles.placeOnTile(gaost, value)
        gaost.follow(the_payer_1, 20)
        tiles.setTileAt(value, sprites.dungeon.floorDark2)
    }
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile6, function (sprite, location) {
    tiles.setTileAt(location, sprites.dungeon.floorDark2)
    for (let value of tiles.getTilesByType(myTiles.tile7)) {
        gaost = sprites.create(img`
. . . . . . . . 2 2 2 2 2 2 2 2 2 . 
. . . . . . . 2 2 2 2 2 2 2 2 2 2 2 
. . . . . . . 2 2 4 4 4 2 4 4 4 2 2 
. . . . . . . 2 2 4 4 4 2 4 4 4 2 2 
. . . . . . . 2 2 4 4 4 2 4 4 4 2 2 
. . . . . . . 2 2 2 2 2 2 2 2 2 2 2 
. . . . . . 2 2 2 2 2 4 4 4 2 2 2 4 
. 2 2 2 . 2 2 2 2 2 2 2 2 2 2 2 4 4 
. 2 2 2 2 2 2 2 2 2 2 4 4 4 2 4 4 4 
. 2 2 2 2 2 . 2 2 2 2 4 4 4 4 4 4 2 
. 2 2 2 2 . . 2 2 2 2 4 4 4 4 4 2 2 
. 2 2 2 . . . 2 2 2 2 4 4 4 4 2 2 2 
. . . . . . . . 2 2 2 4 4 4 2 2 2 . 
. . . . . . . . . 2 2 2 2 2 2 2 . . 
. . . . . . . . . . 2 2 2 2 2 . . . 
. . . . . . . . . . . 2 2 2 . . . . 
. . . . . . . . . . . . 2 . . . . . 
. . . . . . . . . . . . . . . . . . 
`, SpriteKind.goast3)
        tiles.placeOnTile(gaost, value)
        gaost.follow(the_payer_1, 40)
        tiles.setTileAt(value, sprites.dungeon.floorDark2)
    }
})
function level_1 () {
    if (true) {
        game.splash("git all coins and", "defeat all goats ")
        scene.setBackgroundColor(15)
        tiles.setTilemap(tiles.createTilemap(
            hex`3200100008020202020203141414141414141403000000000000000000000000000000000000000000000000000000000000000000000d050505051304050505050505050515000000000000000000000000000000000000000000000000000000000000000000000d05050505050b050505050505050515000000000000000000000000000000000000000000000000000000000000000000000d141111111111030c0c0c1705050515000000000000000000000000000000000000000000000000000000000000000000000d050505050505040814031605050515000000000000000000000000000000000000000000000000000000000000000000000d050505050505040d13041605050515081414141414141414030814140300000000000000000000000000000000000000001b050505050505040d050416050505150d1313131313131324041613290400000000000000000000000000000000000000001b02020202020202060504070c180c0a0d1322131313132225261613130400000000000000000000000000000000000000001b050505050505050505150814141414060505050505050524041613130400000000000000000000000000000000000000000d050505050505050505150d1305130505050505050505050526051313040000000000000000000000000000000000000000070c0c0c0c0c0c0c0c0c0a070c0c0c0c170505050505050524041613130400000000000000000000000000000000000000000802020202020202141414141402020316050505050505052526070c0c0a00000000000000000000000000000000000000000d130513051305131d1d1d1d1d051304160505050505050524040000000000000000000000000000000000000000000000000d051305130513051f1f1f1f1f132205120505050505050525260000000000000000000000000000000000000000000000000d130513051305131e1e1e1e1e05130416050505050505052404000000000000000000000000000000000000000000000000070c0c0c0c0c0c0c0c0c0c0c0c0c0c0a070c0c0c0c0c0c0c0c0a000000000000000000000000000000000000000000000000`,
            img`
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2 . . . . . 2 . . . . . . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2 . . . . . . . . . . . . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2 . 2 2 2 2 2 2 2 2 2 2 . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2 . . . . . . 2 2 2 2 2 . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
2 . . . . . . 2 2 . 2 2 . . . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . . . . . . . . . . . . . . . . . 
. . . . . . . 2 2 . 2 2 . . . 2 2 . . . . . . . . 2 2 . . 2 . . . . . . . . . . . . . . . . . . . . 
. 2 2 2 2 2 2 2 2 . 2 2 2 2 2 2 2 . . . . . . . . 2 2 . . 2 . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . 2 2 2 2 2 2 2 . . . . . . . . 2 2 . . 2 . . . . . . . . . . . . . . . . . . . . 
2 . . . . . . . . . 2 2 . . . . . . . . . . . . . . . . . 2 . . . . . . . . . . . . . . . . . . . . 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . . . . . 2 2 . . 2 . . . . . . . . . . . . . . . . . . . . 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . . . . . 2 2 2 2 2 . . . . . . . . . . . . . . . . . . . . 
2 . . . . . . . . . . . . . . 2 2 . . . . . . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . 
2 . . . . . . . . . . . . . . . . . . . . . . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . 
2 . . . . . . . . . . . . . . 2 2 . . . . . . . . 2 . . . . . . . . . . . . . . . . . . . . . . . . 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . . . . . . . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,sprites.dungeon.greenOuterNorth0,sprites.dungeon.purpleOuterNorth1,sprites.dungeon.purpleOuterNorthEast,sprites.dungeon.purpleOuterEast0,sprites.dungeon.floorDark2,sprites.dungeon.purpleInnerSouthEast,sprites.dungeon.purpleOuterSouthEast,sprites.dungeon.purpleOuterNorthWest,sprites.dungeon.purpleInnerNorthWest,sprites.dungeon.purpleOuterSouthWest,sprites.dungeon.stairLarge,sprites.dungeon.purpleOuterSouth1,sprites.dungeon.purpleOuterWest0,sprites.dungeon.floorLight2,sprites.dungeon.floorDark5,sprites.dungeon.stairEast,sprites.dungeon.purpleOuterNorth2,sprites.dungeon.floorMixed,sprites.dungeon.floorDark0,sprites.dungeon.purpleOuterNorth0,sprites.dungeon.purpleOuterEast1,sprites.dungeon.purpleOuterWest1,sprites.dungeon.purpleInnerNorthEast,sprites.dungeon.doorOpenSouth,sprites.dungeon.purpleInnerSouthWest,sprites.dungeon.purpleOuterSouth2,sprites.dungeon.purpleOuterWest2,sprites.dungeon.floorLight5,sprites.dungeon.darkGroundNorth,sprites.dungeon.darkGroundSouth,sprites.dungeon.darkGroundCenter,sprites.dungeon.purpleOuterSouth0,sprites.dungeon.doorOpenEast,sprites.dungeon.floorDarkDiamond,sprites.dungeon.floorLightMoss,sprites.dungeon.floorLight3,sprites.dungeon.floorDark3,sprites.dungeon.purpleOuterEast2,sprites.dungeon.purpleSwitchUp,sprites.dungeon.collectibleRedCrystal,sprites.dungeon.collectibleInsignia,sprites.dungeon.floorDark1,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11],
            TileScale.Sixteen
        ))
        tiles.placeOnTile(the_player_2, tiles.getTileLocation(5, 5))
        tiles.placeOnTile(the_payer_1, tiles.getTileLocation(4, 5))
        coins()
    }
}
sprites.onOverlap(SpriteKind.gost, SpriteKind.goast3, function (sprite, otherSprite) {
    sprite.x += 1
    otherSprite.x += -1
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile3, function (sprite, location) {
    level = "level_3"
    level_3()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.goast3, function (sprite, otherSprite) {
    if (sprites.readDataBoolean(otherSprite, "life") || sprites.readDataBoolean(otherSprite, "life2")) {
        pause(100)
    } else {
        sprite.follow(otherSprite, -400)
        music.powerDown.play()
        info.changeLifeBy(-1)
        pause(500)
        sprite.follow(otherSprite, 0)
        pause(500)
    }
})
sprites.onOverlap(SpriteKind.goast2, SpriteKind.goast2, function (sprite, otherSprite) {
    sprite.x += 1
    otherSprite.x += -1
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.theflash, function (sprite, otherSprite) {
    if (x) {
        otherSprite.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . 1 1 1 1 1 1 1 1 1 . 
. . . . . 1 1 1 1 1 1 1 1 1 1 . 
. . . . 1 1 1 1 1 1 1 1 1 1 1 . 
. . . 1 1 1 1 1 1 1 1 1 1 1 1 . 
. . . . 1 1 1 1 1 1 1 1 1 1 1 . 
. . . . . 1 1 1 1 1 1 1 1 1 1 . 
. . . . . . 1 1 1 1 1 1 1 1 1 . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`)
        otherSprite.image.flipX()
        otherSprite.x += -1
    } else {
        otherSprite.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . 1 1 1 1 1 1 1 1 1 . 
. . . . . 1 1 1 1 1 1 1 1 1 1 . 
. . . . 1 1 1 1 1 1 1 1 1 1 1 . 
. . . 1 1 1 1 1 1 1 1 1 1 1 1 . 
. . . . 1 1 1 1 1 1 1 1 1 1 1 . 
. . . . . 1 1 1 1 1 1 1 1 1 1 . 
. . . . . . 1 1 1 1 1 1 1 1 1 . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`)
        otherSprite.x += 1
    }
    pause(1)
})
sprites.onOverlap(SpriteKind.gost, SpriteKind.goast2, function (sprite, otherSprite) {
    sprite.x += 1
    otherSprite.x += -1
})
sprites.onOverlap(SpriteKind.theflash, SpriteKind.goast3, function (sprite, otherSprite) {
    otherSprite.follow(the_payer_1, 0)
    otherSprite.setVelocity(0, 0)
    otherSprite.setImage(img`
. . . . . . . . 1 1 1 1 1 1 1 1 1 . 
. . . . . . . 1 1 1 1 1 1 1 1 1 1 1 
. . . . . . . 1 1 d d d 1 d d d 1 1 
. . . . . . . 1 1 d d d 1 d d d 1 1 
. . . . . . . 1 1 d d d 1 d d d 1 1 
. . . . . . . 1 1 1 1 1 1 1 1 1 1 1 
. . . . . . 1 1 1 1 1 d d d 1 1 1 d 
. 1 1 1 . 1 1 1 1 1 1 1 1 1 1 1 d d 
. 1 1 1 1 1 1 1 1 1 1 d d d 1 d d d 
. 1 1 1 1 1 . 1 1 1 1 d d d d d d 1 
. 1 1 1 1 . . 1 1 1 1 d d d d d 1 1 
. 1 1 1 . . . 1 1 1 1 d d d d 1 1 1 
. . . . . . . . 1 1 1 d d d 1 1 1 . 
. . . . . . . . . 1 1 1 1 1 1 1 . . 
. . . . . . . . . . 1 1 1 1 1 . . . 
. . . . . . . . . . . 1 1 1 . . . . 
. . . . . . . . . . . . 1 . . . . . 
. . . . . . . . . . . . . . . . . . 
`)
    sprites.setDataBoolean(otherSprite, "life", true)
    pause(5000)
    sprites.setDataBoolean(otherSprite, "life", false)
    otherSprite.setImage(img`
. . . . . . . . 2 2 2 2 2 2 2 2 2 . 
. . . . . . . 2 2 2 2 2 2 2 2 2 2 2 
. . . . . . . 2 2 4 4 4 2 4 4 4 2 2 
. . . . . . . 2 2 4 4 4 2 4 4 4 2 2 
. . . . . . . 2 2 4 4 4 2 4 4 4 2 2 
. . . . . . . 2 2 2 2 2 2 2 2 2 2 2 
. . . . . . 2 2 2 2 2 4 4 4 2 2 2 4 
. 2 2 2 . 2 2 2 2 2 2 2 2 2 2 2 4 4 
. 2 2 2 2 2 2 2 2 2 2 4 4 4 2 4 4 4 
. 2 2 2 2 2 . 2 2 2 2 4 4 4 4 4 4 2 
. 2 2 2 2 . . 2 2 2 2 4 4 4 4 4 2 2 
. 2 2 2 . . . 2 2 2 2 4 4 4 4 2 2 2 
. . . . . . . . 2 2 2 4 4 4 2 2 2 . 
. . . . . . . . . 2 2 2 2 2 2 2 . . 
. . . . . . . . . . 2 2 2 2 2 . . . 
. . . . . . . . . . . 2 2 2 . . . . 
. . . . . . . . . . . . 2 . . . . . 
. . . . . . . . . . . . . . . . . . 
`)
    otherSprite.follow(the_payer_1, 40)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Projectile, function (sprite, otherSprite) {
    otherSprite.destroy()
    info.changeLifeBy(-1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.coin, function (sprite, otherSprite) {
    otherSprite.destroy()
    info.changeScoreBy(1)
    music.baDing.play()
})
sprites.onOverlap(SpriteKind.uper, SpriteKind.goast2, function (sprite, otherSprite) {
    if (sprites.readDataBoolean(otherSprite, "life") && sprites.readDataBoolean(otherSprite, "life2")) {
        otherSprite.destroy()
        music.baDing.play()
        info.changeScoreBy(2)
    }
    if (sprites.readDataBoolean(otherSprite, "life")) {
        otherSprite.follow(the_payer_1, -130)
        sprites.setDataBoolean(otherSprite, "life", false)
        sprites.setDataBoolean(otherSprite, "life2", true)
        otherSprite.follow(the_payer_1, -130)
        pause(500)
        for (let index = 0; index < 3; index++) {
            projectile = sprites.createProjectileFromSprite(img`
. . . . . . . . . . . . . . . . 
. . . . . . 4 4 4 4 . . . . . . 
. . . . 4 4 4 5 5 4 4 4 . . . . 
. . . 3 3 3 3 4 4 4 4 4 4 . . . 
. . 4 3 3 3 3 2 2 2 1 1 4 4 . . 
. . 3 3 3 3 3 2 2 2 1 1 5 4 . . 
. 4 3 3 3 3 2 2 2 2 2 5 5 4 4 . 
. 4 3 3 3 2 2 2 4 4 4 4 5 4 4 . 
. 4 4 3 3 2 2 4 4 4 4 4 4 4 4 . 
. 4 2 3 3 2 2 4 4 4 4 4 4 4 4 . 
. . 4 2 3 3 2 4 4 4 4 4 2 4 . . 
. . 4 2 2 3 2 2 4 4 4 2 4 4 . . 
. . . 4 2 2 2 2 2 2 2 2 4 . . . 
. . . . 4 4 2 2 2 2 4 4 . . . . 
. . . . . . 4 4 4 4 . . . . . . 
. . . . . . . . . . . . . . . . 
`, otherSprite, 1, 1)
            projectile.setFlag(SpriteFlag.AutoDestroy, false)
            projectile.setFlag(SpriteFlag.DestroyOnWall, true)
            projectile.follow(the_payer_1, 100)
            projectile.follow(the_payer_1, 100)
            pause(100)
        }
    }
})
function level_2 () {
    game.splash("git all coins and", "defeat all goats ")
    scene.setBackgroundColor(15)
    tiles.setTilemap(tiles.createTilemap(
            hex`320010000811111111111111030814141414141403090c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c1700000000001b13050505050513260d1305131305131515052e0505050505050505050505050505050505052f05050505050d00000000001b05050505050505260d050505050505151505050505050505050505050505050505050505052f05050505050d00000000001b05050513050505150d050505050505151505050814141414141414141414141414141414141403130505050d00000000001b05050505050505150d050513130505151529290d22051305051313050505130522050505050515050505050d00000000001b13050505050513260d050505050505151914140d05050505050505050505050505091705090515050530050d0000000000071a1a1a1a1a1a1a0a0d050505050505150000000d05050505050505050505050505150d05150515050505050d00000000000814141414141414030d130513130513150000000d05050505050505050505050505150d05150519020202050d00000000000d0505050505050515070c171212090c0a0000000811111411111114111114141111030d05150505050513050d00000000000d131313131313131914140605051914141414030d05050505050505050505050505260d05190202020202080600000000000d050505050505050505050505050505050505040d05050505050505050505050505260d050505050505130d0000000000000d050505050505050505050505050505050505050505050505050505050505050505150d05081414141414060000000000000d050505050505050505050505050505050505050505050505050505050505050505260d050d0000000000000000000000000d050505050505050505050505050505050505041b05050505050505050505050505260d050d0000000000000000000000000d220505050505220505050505052205050522041b05050505050505050505050505150d130d000000000000000000000000070c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0a070c0c1a1a0c0c1a1a0c0c1a1a0c0a070c07000000000000000000000000`,
            img`
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . . 
2 . . . . . . . 2 2 . . . . . . 2 2 . . . . . . . . . . . . . . . . . . . . . . . . . . 2 . . . . . 
2 . . . . . . . 2 2 . . . . . . 2 2 . . . . . . . . . . . . . . . . . . . . . . . . . . 2 . . . . . 
2 . . . . . . . . . . . . . . . 2 2 . . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . 2 . . . . . 
2 . . . . . . . . . . . . . . . 2 2 . . 2 . . . . . . . . . . . . . . . . . . 2 . . . . 2 . . . . . 
2 . . . . . . . 2 2 . . . . . . 2 2 2 2 2 . . . . . . . . . . . . . 2 2 . 2 . 2 . . . . 2 . . . . . 
2 2 2 2 2 2 2 2 2 2 . . . . . . 2 . . . 2 . . . . . . . . . . . . . 2 2 . 2 . 2 . . . . 2 . . . . . 
2 2 2 2 2 2 2 2 2 2 . . . . . . 2 . . . 2 . . . . . . . . . . . . . 2 2 . 2 . 2 2 2 2 . 2 . . . . . 
2 . . . . . . . 2 2 2 2 . . 2 2 2 . . . 2 2 2 2 2 . 2 2 2 2 2 2 2 2 2 2 . 2 . . . . . . 2 . . . . . 
2 . . . . . . . 2 2 2 2 . . 2 2 2 2 2 2 2 . . . . . . . . . . . . . 2 2 . 2 2 2 2 2 2 2 2 . . . . . 
2 . . . . . . . . . . . . . . . . . . 2 2 . . . . . . . . . . . . . 2 2 . . . . . . . 2 . . . . . . 
2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 2 . 2 2 2 2 2 2 2 . . . . . . 
2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 2 . 2 . . . . . . . . . . . . 
2 . . . . . . . . . . . . . . . . . . 2 2 . . . . . . . . . . . . . 2 2 . 2 . . . . . . . . . . . . 
2 . . . . . . . . . . . . . . . . . . 2 2 . . . . . . . . . . . . . 2 2 . 2 . . . . . . . . . . . . 
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . . . . . . . . . 
`,
            [myTiles.tile0,sprites.dungeon.greenOuterNorth0,sprites.dungeon.purpleOuterNorth1,sprites.dungeon.purpleOuterNorthEast,sprites.dungeon.purpleOuterEast0,sprites.dungeon.floorDark2,sprites.dungeon.purpleInnerSouthEast,sprites.dungeon.purpleOuterSouthEast,sprites.dungeon.purpleOuterNorthWest,sprites.dungeon.purpleInnerNorthWest,sprites.dungeon.purpleOuterSouthWest,sprites.dungeon.stairLarge,sprites.dungeon.purpleOuterSouth1,sprites.dungeon.purpleOuterWest0,sprites.dungeon.floorLight2,sprites.dungeon.floorDark5,sprites.dungeon.stairEast,sprites.dungeon.purpleOuterNorth2,sprites.dungeon.floorMixed,sprites.dungeon.floorDark0,sprites.dungeon.purpleOuterNorth0,sprites.dungeon.purpleOuterEast1,sprites.dungeon.purpleOuterWest1,sprites.dungeon.purpleInnerNorthEast,sprites.dungeon.doorOpenSouth,sprites.dungeon.purpleInnerSouthWest,sprites.dungeon.purpleOuterSouth2,sprites.dungeon.purpleOuterWest2,sprites.dungeon.floorLight5,sprites.dungeon.darkGroundNorth,sprites.dungeon.darkGroundSouth,sprites.dungeon.darkGroundCenter,sprites.dungeon.purpleOuterSouth0,sprites.dungeon.doorOpenEast,sprites.dungeon.floorDarkDiamond,sprites.dungeon.floorLightMoss,sprites.dungeon.floorLight3,sprites.dungeon.floorDark3,sprites.dungeon.purpleOuterEast2,sprites.dungeon.purpleSwitchUp,sprites.dungeon.collectibleRedCrystal,sprites.dungeon.collectibleInsignia,sprites.dungeon.floorDark1,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,sprites.dungeon.chestClosed,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11],
            TileScale.Sixteen
        ))
    tiles.placeOnTile(the_player_2, tiles.getTileLocation(4, 2))
    tiles.placeOnTile(the_payer_1, tiles.getTileLocation(3, 2))
    coins()
}
controller.player2.onButtonEvent(ControllerButton.Left, ControllerButtonEvent.Pressed, function () {
    the_player_2.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . 7 7 7 7 7 7 . . . . . 
. . . . 7 7 7 7 7 7 7 7 7 . . . 
. . . . . 7 7 1 6 7 7 . . . . . 
. . . . . 7 7 1 6 7 7 7 . . . . 
. . . . . 7 7 7 7 7 7 . . . . . 
. . . . . . 7 7 7 7 . . . . . . 
. . . . . 6 7 7 7 6 . . . . . . 
. 6 6 6 7 6 7 7 7 6 7 . . . . . 
2 6 7 7 7 6 7 7 7 6 7 7 . . . . 
2 6 7 6 7 6 7 7 7 6 7 2 2 . . . 
2 . 2 2 2 2 2 2 2 2 2 2 . . . . 
2 2 2 . 6 6 6 . 6 6 6 2 2 . . . 
. . . . 6 6 . . . 6 6 . . . . . 
. . . 6 6 6 . . . 6 6 6 . . . . 
. . 6 6 6 6 . . . 6 6 6 6 . . . 
`)
    the_player_2.image.flipX()
    x = true
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    the_payer_1.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . 7 7 7 7 7 7 . . . . . 
. . . . 7 7 7 7 7 7 7 7 7 . . . 
. . . . . e d 1 f d d . . . . . 
. . . . . e e 1 f d d d . . . . 
. . . . . d e d d d d . . . . . 
. . . . . . d d d d . . . . . . 
. . . . . 8 7 7 7 8 . . . . . . 
. 2 2 2 7 5 7 7 7 5 7 . . . . . 
4 2 7 7 7 8 7 7 7 8 7 7 . . . . 
4 2 7 2 7 8 7 7 7 8 7 2 2 . . . 
4 . 4 4 4 4 4 4 4 4 4 2 . . . . 
4 4 4 . 8 8 8 . 8 8 8 2 2 . . . 
. . . . 8 8 . . . 8 8 . . . . . 
. . . e e e . . . e e e . . . . 
. . e e e e . . . e e e e . . . 
`)
    x = false
})
sprites.onOverlap(SpriteKind.goast2, SpriteKind.goast3, function (sprite, otherSprite) {
    sprite.x += 1
    otherSprite.x += -1
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.floorMixed, function (sprite, location) {
    tiles.setTileAt(location, sprites.dungeon.floorDark2)
    for (let value of tiles.getTilesByType(sprites.dungeon.floorDarkDiamond)) {
        gaost = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . 7 7 7 7 7 . . . . . 
. . . . . 7 7 7 7 7 7 7 . . . . 
. . . . . 7 6 1 7 6 1 7 . . . . 
. . . . . 7 6 1 7 6 1 7 . . . . 
. . . . . 7 7 7 7 7 7 7 . . . . 
. . . . 7 7 7 7 7 7 7 6 . . . . 
. . . 7 7 7 7 7 7 7 6 6 . . . . 
. 7 7 7 . 7 7 7 6 6 6 7 . . . . 
. 7 7 . . 7 7 7 6 6 7 7 . . . . 
. . . . . . 7 7 7 7 7 . . . . . 
. . . . . . . 7 7 7 . . . . . . 
. . . . . . . . 7 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.gost)
        tiles.placeOnTile(gaost, value)
        gaost.follow(the_payer_1, 40)
        tiles.setTileAt(value, sprites.dungeon.floorDark2)
    }
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile8, function (sprite, location) {
    level = "level_4"
    level4()
})
sprites.onOverlap(SpriteKind.gost, SpriteKind.gost, function (sprite, otherSprite) {
    sprite.x += 1
    otherSprite.x += -1
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.chestClosed, function (sprite, location) {
    info.setLife(15)
    tiles.setTileAt(location, sprites.dungeon.floorDark2)
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile2, function (sprite, location) {
    level = "level_2"
    level_2()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.goast2, function (sprite, otherSprite) {
    if (sprites.readDataBoolean(otherSprite, "life") || sprites.readDataBoolean(otherSprite, "life2")) {
        pause(100)
    } else {
        music.powerDown.play()
        info.changeLifeBy(-1)
        pause(500)
    }
})
sprites.onOverlap(SpriteKind.theflash, SpriteKind.goast2, function (sprite, otherSprite) {
    otherSprite.follow(the_payer_1, 0)
    otherSprite.setVelocity(0, 0)
    otherSprite.setImage(img`
. . . . . . . 1 1 1 1 . . . . . 
. . . . . 1 1 1 1 1 1 1 . . . . 
. . . . . 1 1 1 1 1 1 1 . . . . 
. . . . . 1 d d 1 d d 1 . . . . 
. . . . . 1 d d 1 d d 1 . . . . 
. . . d d 1 1 1 1 1 1 1 d d . . 
. . . . 1 1 1 1 1 1 1 d . . . . 
. . . 1 1 1 1 1 1 1 d d . . . . 
. 1 1 1 . 1 1 1 d d d 1 . . . . 
. 1 1 . . 1 1 1 d d 1 1 . . . . 
. . . . . 1 1 1 1 1 1 1 . . . . 
. . . . . . 1 1 1 1 1 . . . . . 
. . . . . . . 1 1 1 . . . . . . 
. . . . . . . . 1 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`)
    sprites.setDataBoolean(otherSprite, "life", true)
    pause(2000)
    sprites.setDataBoolean(otherSprite, "life", false)
    otherSprite.setImage(img`
. . . . . . . 8 8 8 8 . . . . . 
. . . . . 8 8 8 8 8 8 8 . . . . 
. . . . . 8 8 8 8 8 8 8 . . . . 
. . . . . 8 9 1 8 9 1 8 . . . . 
. . . . . 8 9 1 8 9 1 8 . . . . 
. . . 6 6 8 8 8 8 8 8 8 6 6 . . 
. . . . 8 8 8 8 8 8 8 9 . . . . 
. . . 8 8 8 8 8 8 8 9 9 . . . . 
. 8 8 8 . 8 8 8 9 9 9 8 . . . . 
. 8 8 . . 8 8 8 9 9 8 8 . . . . 
. . . . . 8 8 8 8 8 8 8 . . . . 
. . . . . . 8 8 8 8 8 . . . . . 
. . . . . . . 8 8 8 . . . . . . 
. . . . . . . . 8 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`)
    otherSprite.follow(the_payer_1, 40)
})
controller.player2.onButtonEvent(ControllerButton.Right, ControllerButtonEvent.Pressed, function () {
    the_player_2.setImage(img`
. . . . . . . . . . . . . . . . 
. . . . . 7 7 7 7 7 7 . . . . . 
. . . . 7 7 7 7 7 7 7 7 7 . . . 
. . . . . 7 7 1 6 7 7 . . . . . 
. . . . . 7 7 1 6 7 7 7 . . . . 
. . . . . 7 7 7 7 7 7 . . . . . 
. . . . . . 7 7 7 7 . . . . . . 
. . . . . 6 7 7 7 6 . . . . . . 
. 6 6 6 7 6 7 7 7 6 7 . . . . . 
2 6 7 7 7 6 7 7 7 6 7 7 . . . . 
2 6 7 6 7 6 7 7 7 6 7 2 2 . . . 
2 . 2 2 2 2 2 2 2 2 2 2 . . . . 
2 2 2 . 6 6 6 . 6 6 6 2 2 . . . 
. . . . 6 6 . . . 6 6 . . . . . 
. . . 6 6 6 . . . 6 6 6 . . . . 
. . 6 6 6 6 . . . 6 6 6 6 . . . 
`)
    x = false
})
function coins () {
    for (let value of tiles.getTilesByType(sprites.dungeon.floorDark0)) {
        the_coin = sprites.create(img`
. . b b b b . . 
. b 5 5 5 5 b . 
b 5 d 3 3 d 5 b 
b 5 3 5 5 1 5 b 
c 5 3 5 5 1 d c 
c d d 1 1 d d c 
. f d d d d f . 
. . f f f f . . 
`, SpriteKind.coin)
        tiles.placeOnTile(the_coin, value)
    }
}
sprites.onOverlap(SpriteKind.uper, SpriteKind.gost, function (sprite, otherSprite) {
    if (sprites.readDataBoolean(otherSprite, "life2")) {
        otherSprite.destroy()
        music.baDing.play()
        info.changeScoreBy(1)
    }
    if (sprites.readDataBoolean(otherSprite, "life")) {
        otherSprite.follow(the_payer_1, -60)
        sprites.setDataBoolean(otherSprite, "life", false)
        sprites.setDataBoolean(otherSprite, "life2", true)
        pause(1000)
    }
})
function level_3 () {
    game.splash("git all coins and", "defeat all goats ")
    scene.setBackgroundColor(15)
    tiles.setTilemap(tiles.createTilemap(
            hex`3200100008141427141414030814141414141403081414141414141414141414141403081414141414141414141403000814141414030d050505050505150d050505050513150d05050505050505052205050505150d0505050505050505050515000d05050505150d050505050505150d05050505052e150d05050505050505052205050505150d0505050505050505050515000d05050534150d050505050505150d050505050505150d0505090c0814141414030d0505150d0505050505050505050515000d0505090c0a0d050505050505152f050505050505150d131315000d05051305150d0505150d0505050505050505050519140613131500000d050505050505150d050505050505150d050515000d05051334150d1313150d2905050531050505050530051305051500000d050505050505150d05050505052e150d050515000d0505090c0a0d0505150d05050505050505050505300513050515000007170505090c0c0a0d050505050513150d222215000d0505191414060505150d05050505050505050505090c170505150000000d050515000000070c0c0c0c0c0c0a0d050515000d0505051313050505150d0505050505050505050515000d1313150000000d05051500000000000000000000000d050515000d0505051313050505150d0505050505050505050515000d0505150000000d05051500000000000000000000000d050515000d0505090c0c0c0c0c0a070c0c0c0c0c0c0c0c0c0c0a000d0505150000000d050519141414141414141414141406121215000d050504000000000000000000000000000000000000000d1313150000000d050505050505050505051305050505050515000d05051914141414141414141414141414141414141414060505150000000d050505050505050505051305050505050515000d0505050505050513050505050505050513050505051305050515000000070c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0a000d05050505050505130505050505050505130505050513050505150000000000000000000000000000000000000000000000070c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0c0a0000`,
            img`
2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 2 2 2 2 2 2 
2 . . . . . . 2 2 . . . . . . 2 2 . . . . . . . . . . . . . 2 2 . . . . . . . . . . 2 . 2 . . . . 2 
2 . . . . . . 2 2 . . . . . . 2 2 . . . . . . . . . . . . . 2 2 . . . . . . . . . . 2 . 2 . . . . 2 
2 . . . . . . 2 2 . . . . . . 2 2 . . 2 2 2 2 2 2 2 2 2 . . 2 2 . . . . . . . . . . 2 . 2 . . 2 2 2 
2 . . . . . . 2 . . . . . . . 2 2 . . 2 . 2 . . . . 2 2 . . 2 2 . . . . . . . . . . 2 2 2 . . 2 . . 
2 . . . . . . 2 2 . . . . . . 2 2 . . 2 . 2 . . . . 2 2 . . 2 2 . . . . . . . . . . . . . . . 2 . . 
2 . . . . . . 2 2 . . . . . . 2 2 . . 2 . 2 . . 2 2 2 2 . . 2 2 . . . . . . . . . . . . . . . 2 . . 
2 2 . . 2 2 2 2 2 . . . . . . 2 2 . . 2 . 2 . . 2 2 2 2 . . 2 2 . . . . . . . . . . 2 2 2 . . 2 . . 
. 2 . . 2 . . . 2 2 2 2 2 2 2 2 2 . . 2 . 2 . . . . . . . . 2 2 . . . . . . . . . . 2 . 2 . . 2 . . 
. 2 . . 2 . . . . . . . . . . . 2 . . 2 . 2 . . . . . . . . 2 2 . . . . . . . . . . 2 . 2 . . 2 . . 
. 2 . . 2 . . . . . . . . . . . 2 . . 2 . 2 . . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 2 . . 2 . . 
. 2 . . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 2 . 2 . . 2 . . . . . . . . . . . . . . . . . . . 2 . . 2 . . 
. 2 . . . . . . . . . . . . . . . . . 2 . 2 . . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 2 . . 
. 2 . . . . . . . . . . . . . . . . . 2 . 2 . . . . . . . . . . . . . . . . . . . . . . . . . 2 . . 
. 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 2 . . . . . . . . . . . . . . . . . . . . . . . . . 2 . . 
. . . . . . . . . . . . . . . . . . . . . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
`,
            [myTiles.tile0,sprites.dungeon.greenOuterNorth0,sprites.dungeon.purpleOuterNorth1,sprites.dungeon.purpleOuterNorthEast,sprites.dungeon.purpleOuterEast0,sprites.dungeon.floorDark2,sprites.dungeon.purpleInnerSouthEast,sprites.dungeon.purpleOuterSouthEast,sprites.dungeon.purpleOuterNorthWest,sprites.dungeon.purpleInnerNorthWest,sprites.dungeon.purpleOuterSouthWest,sprites.dungeon.stairLarge,sprites.dungeon.purpleOuterSouth1,sprites.dungeon.purpleOuterWest0,sprites.dungeon.floorLight2,sprites.dungeon.floorDark5,sprites.dungeon.stairEast,sprites.dungeon.purpleOuterNorth2,sprites.dungeon.floorMixed,sprites.dungeon.floorDark0,sprites.dungeon.purpleOuterNorth0,sprites.dungeon.purpleOuterEast1,sprites.dungeon.purpleOuterWest1,sprites.dungeon.purpleInnerNorthEast,sprites.dungeon.doorOpenSouth,sprites.dungeon.purpleInnerSouthWest,sprites.dungeon.purpleOuterSouth2,sprites.dungeon.purpleOuterWest2,sprites.dungeon.floorLight5,sprites.dungeon.darkGroundNorth,sprites.dungeon.darkGroundSouth,sprites.dungeon.darkGroundCenter,sprites.dungeon.purpleOuterSouth0,sprites.dungeon.doorOpenEast,sprites.dungeon.floorDarkDiamond,sprites.dungeon.floorLightMoss,sprites.dungeon.floorLight3,sprites.dungeon.floorDark3,sprites.dungeon.purpleOuterEast2,sprites.dungeon.purpleSwitchUp,sprites.dungeon.collectibleRedCrystal,sprites.dungeon.collectibleInsignia,sprites.dungeon.floorDark1,myTiles.tile1,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,sprites.dungeon.greenSwitchDown,sprites.dungeon.purpleSwitchDown,sprites.dungeon.chestClosed,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11],
            TileScale.Sixteen
        ))
    tiles.placeOnTile(the_player_2, tiles.getTileLocation(4, 4))
    tiles.placeOnTile(the_payer_1, tiles.getTileLocation(3, 4))
    coins()
}
let on_flash = false
let shado: Sprite = null
let the_coin: Sprite = null
let projectile: Sprite = null
let gaost: Sprite = null
let x = false
let level = ""
let fauten: Sprite = null
let mySprite: Sprite = null
let the_player_2: Sprite = null
let the_payer_1: Sprite = null
info.setLife(10)
let flash = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . 1 1 1 1 1 1 1 1 1 . 
. . . . . 1 1 1 1 1 1 1 1 1 1 . 
. . . . 1 1 1 1 1 1 1 1 1 1 1 . 
. . . 1 1 1 1 1 1 1 1 1 1 1 1 . 
. . . . 1 1 1 1 1 1 1 1 1 1 1 . 
. . . . . 1 1 1 1 1 1 1 1 1 1 . 
. . . . . . 1 1 1 1 1 1 1 1 1 . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.theflash)
flash.setFlag(SpriteFlag.Invisible, true)
let suker = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . b b b b b b b b b . 
. . . . . b b b b b b b b b b . 
. . . . b b b b b b b b b b b . 
. . . b b b b b b b b b b b b . 
. . . . b b b b b b b b b b b . 
. . . . . b b b b b b b b b b . 
. . . . . . b b b b b b b b b . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.uper)
suker.setFlag(SpriteFlag.Invisible, true)
the_payer_1 = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . 7 7 7 7 7 7 . . . . . 
. . . . 7 7 7 7 7 7 7 7 7 . . . 
. . . . . e d 1 f d d . . . . . 
. . . . . e e 1 f d d d . . . . 
. . . . . d e d d d d . . . . . 
. . . . . . d d d d . . . . . . 
. . . . . 8 7 7 7 8 . . . . . . 
. 2 2 2 7 5 7 7 7 5 7 . . . . . 
4 2 7 7 7 8 7 7 7 8 7 7 . . . . 
4 2 7 2 7 8 7 7 7 8 7 2 2 . . . 
4 . 4 4 4 4 4 4 4 4 4 2 . . . . 
4 4 4 . 8 8 8 . 8 8 8 2 2 . . . 
. . . . 8 8 . . . 8 8 . . . . . 
. . . e e e . . . e e e . . . . 
. . e e e e . . . e e e e . . . 
`, SpriteKind.Player)
controller.moveSprite(the_payer_1, 100, 100)
if (game.ask("2 players")) {
    the_player_2 = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . 7 7 7 7 7 7 . . . . . 
. . . . 7 7 7 7 7 7 7 7 7 . . . 
. . . . . 7 7 1 6 7 7 . . . . . 
. . . . . 7 7 1 6 7 7 7 . . . . 
. . . . . 7 7 7 7 7 7 . . . . . 
. . . . . . 7 7 7 7 . . . . . . 
. . . . . 6 7 7 7 6 . . . . . . 
. 6 6 6 7 6 7 7 7 6 7 . . . . . 
2 6 7 7 7 6 7 7 7 6 7 7 . . . . 
2 6 7 6 7 6 7 7 7 6 7 2 2 . . . 
2 . 2 2 2 2 2 2 2 2 2 2 . . . . 
2 2 2 . 6 6 6 . 6 6 6 2 2 . . . 
. . . . 6 6 . . . 6 6 . . . . . 
. . . 6 6 6 . . . 6 6 6 . . . . 
. . 6 6 6 6 . . . 6 6 6 6 . . . 
`, SpriteKind.Player)
    controller.player2.moveSprite(the_player_2)
}
if (blockSettings.exists("level_4")) {
    story.queueStoryPart(function () {
        story.spriteSayText(the_payer_1, "What", 2, 15)
        mySprite = sprites.create(img`
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . f f f f . . . . . . . . . . 
. . . . . . . . f f 1 1 1 1 f f . . . . . . . . 
. . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
. . . . . . . f 1 1 1 1 1 1 1 1 f . . . . . . . 
. . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
. . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
. . . . . . f d d d 1 1 1 1 d d d f . . . . . . 
. . . . . . f b d b f d d f b d b f . . . . . . 
. . . . . . f c d c f 1 1 f c d c f . . . . . . 
. . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
. . . . . . f f f c d b 1 b d f f f f . . . . . 
. . . . f c 1 1 1 c b f b f c 1 1 1 c f . . . . 
. . . . f 1 b 1 b 1 f f f f 1 b 1 b 1 f . . . . 
. . . . f b f b f f f f f f b f b f b f . . . . 
. . . . . . . . . f f f f f f . . . . . . . . . 
. . . . . . . . . . . f f f . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . . . . . 
`, SpriteKind.Player)
        mySprite.setPosition(39, 44)
        story.spriteSayText(mySprite, "Ha ha ha", 2, 15)
        pause(1000)
        story.spriteSayText(mySprite, "I have toad", 2, 15)
        pause(1000)
        mySprite.destroy()
    })
}
tiles.setTilemap(tiles.createTilemap(
            hex`10001000010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010606060606060606060606060606080105050505050505050505050505050901070707070707070707070707050509010101010101010101010101010a0509010101010101010101010101010a0509010101010c0e0e0e0e0e0e0e0e0e170e0d0101011017171710171717101717170f01010110171b17101a1717101718170f0101010b151515151515151515151513`,
            img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . 2 2 2 2 2 2 2 2 2 2 . 2 2 
. . . 2 . . . 2 . . . 2 . . . 2 
. . . 2 . . . 2 . . . 2 . . . 2 
. . . 2 2 2 2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,sprites.castle.tileDarkGrass3,sprites.castle.tileDarkGrass2,sprites.castle.tileGrass1,sprites.castle.tileDarkGrass1,sprites.castle.tilePath5,sprites.castle.tilePath2,sprites.castle.tilePath8,sprites.castle.tilePath3,sprites.castle.tilePath6,sprites.castle.tilePath4,sprites.dungeon.greenInnerSouthWest,sprites.dungeon.greenInnerNorthWest,sprites.dungeon.greenInnerNorthEast,sprites.dungeon.greenOuterSouth0,sprites.dungeon.greenOuterWest1,sprites.dungeon.greenOuterEast0,sprites.dungeon.greenOuterSouthEast,sprites.dungeon.greenOuterSouthWest,sprites.dungeon.greenInnerSouthEast,sprites.dungeon.greenOuterSouth1,sprites.dungeon.greenOuterNorth0,sprites.dungeon.floorLight2,sprites.dungeon.floorDark2,myTiles.tile1,sprites.dungeon.greenOuterNorthWest,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11],
            TileScale.Sixteen
        ))
scene.cameraFollowSprite(the_payer_1)
if (blockSettings.exists("level_4")) {
    tiles.setTilemap(tiles.createTilemap(
            hex`1400140001010101010101010101010101010101040404040101010101010101010101010101010104040404010101010101010101010101010101010404040401010101010101010101010101010101040404040101010101010101010101010101010104040404010101010101010101010101010101010404040401010101010101010101010101010101040404040606060606060606060606060606080104040404050505050505050505050505050509010404040407070707070707070707070705050901040404040101010101010101010101010a050901040404040101010101010101010101010a050901040404040101010c0e0e0e0e0e0e0e0e0e170e0d040404040104041017171717171717171717170f0404040405050517171b17171a1717171717180f040404040501010b151515151515151515151513040404040504040404040404040404040404042626260404050505052305050505050505050505052726040404040404040404040404040404040426262604040404040404040404040404040404040404040404`,
            img`
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . 2 2 2 2 2 2 2 2 2 2 . 2 2 . . . . 
. . . 2 . . . . . . . . . . . 2 . . . . 
. . . . . . . . . . . . . . . 2 . . . . 
. . . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,sprites.castle.tileDarkGrass3,sprites.castle.tileDarkGrass2,sprites.castle.tileGrass1,sprites.castle.tileDarkGrass1,sprites.castle.tilePath5,sprites.castle.tilePath2,sprites.castle.tilePath8,sprites.castle.tilePath3,sprites.castle.tilePath6,sprites.castle.tilePath4,sprites.dungeon.greenInnerSouthWest,sprites.dungeon.greenInnerNorthWest,sprites.dungeon.greenInnerNorthEast,sprites.dungeon.greenOuterSouth0,sprites.dungeon.greenOuterWest1,sprites.dungeon.greenOuterEast0,sprites.dungeon.greenOuterSouthEast,sprites.dungeon.greenOuterSouthWest,sprites.dungeon.greenInnerSouthEast,sprites.dungeon.greenOuterSouth1,sprites.dungeon.greenOuterNorth0,sprites.dungeon.floorLight2,sprites.dungeon.floorDark2,myTiles.tile1,sprites.dungeon.greenOuterNorthWest,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,sprites.builtin.forestTiles10,sprites.builtin.forestTiles6,sprites.builtin.forestTiles18,myTiles.tile8,myTiles.tile9,myTiles.tile10,sprites.builtin.forestTiles0,myTiles.tile11],
            TileScale.Sixteen
        ))
} else if (blockSettings.exists("level_3")) {
    tiles.setTilemap(tiles.createTilemap(
            hex`1400140001010101010101010101010101010101040404040101010101010101010101010101010104040404010101010101010101010101010101010404040401010101010101010101010101010101040404040101010101010101010101010101010104040404010101010101010101010101010101010404040401010101010101010101010101010101040404040606060606060606060606060606080104040404050505050505050505050505050509010404040407070707070707070707070705050901040404040101010101010101010101010a050901040404040101010101010101010101010a050901040404040101010c0e0e0e0e0e0e0e0e0e170e0d040404040104041017171717171717171717170f0404040405050517171b17171a1717171717180f040404040501010b151515151515151515151513040404040504040404040404040404040404040404040404050505052304040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404`,
            img`
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . 2 2 2 2 2 2 2 2 2 2 . 2 2 . . . . 
. . . 2 . . . . . . . . . . . 2 . . . . 
. . . . . . . . . . . . . . . 2 . . . . 
. . . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . . . . . 
`,
            [myTiles.tile0,sprites.castle.tileDarkGrass3,sprites.castle.tileDarkGrass2,sprites.castle.tileGrass1,sprites.castle.tileDarkGrass1,sprites.castle.tilePath5,sprites.castle.tilePath2,sprites.castle.tilePath8,sprites.castle.tilePath3,sprites.castle.tilePath6,sprites.castle.tilePath4,sprites.dungeon.greenInnerSouthWest,sprites.dungeon.greenInnerNorthWest,sprites.dungeon.greenInnerNorthEast,sprites.dungeon.greenOuterSouth0,sprites.dungeon.greenOuterWest1,sprites.dungeon.greenOuterEast0,sprites.dungeon.greenOuterSouthEast,sprites.dungeon.greenOuterSouthWest,sprites.dungeon.greenInnerSouthEast,sprites.dungeon.greenOuterSouth1,sprites.dungeon.greenOuterNorth0,sprites.dungeon.floorLight2,sprites.dungeon.floorDark2,myTiles.tile1,sprites.dungeon.greenOuterNorthWest,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,sprites.builtin.forestTiles10,sprites.builtin.forestTiles6,sprites.builtin.forestTiles18,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11],
            TileScale.Sixteen
        ))
} else if (blockSettings.exists("level_2")) {
    tiles.setTilemap(tiles.createTilemap(
            hex`10001000010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010606060606060606060606060606080105050505050505050505050505050901070707070707070707070707050509010101010101010101010101010a0509010101010101010101010101010a0509010101010c0e0e0e0e0e0e0e0e0e170e0d0101011017171717171717171717170f01010110171b17171a1717171717180f0101010b151515151515151515151513`,
            img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . 2 2 2 2 2 2 2 2 2 2 . 2 2 
. . . 2 . . . . . . . . . . . 2 
. . . 2 . . . . . . . . . . . 2 
. . . 2 2 2 2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,sprites.castle.tileDarkGrass3,sprites.castle.tileDarkGrass2,sprites.castle.tileGrass1,sprites.castle.tileDarkGrass1,sprites.castle.tilePath5,sprites.castle.tilePath2,sprites.castle.tilePath8,sprites.castle.tilePath3,sprites.castle.tilePath6,sprites.castle.tilePath4,sprites.dungeon.greenInnerSouthWest,sprites.dungeon.greenInnerNorthWest,sprites.dungeon.greenInnerNorthEast,sprites.dungeon.greenOuterSouth0,sprites.dungeon.greenOuterWest1,sprites.dungeon.greenOuterEast0,sprites.dungeon.greenOuterSouthEast,sprites.dungeon.greenOuterSouthWest,sprites.dungeon.greenInnerSouthEast,sprites.dungeon.greenOuterSouth1,sprites.dungeon.greenOuterNorth0,sprites.dungeon.floorLight2,sprites.dungeon.floorDark2,myTiles.tile1,sprites.dungeon.greenOuterNorthWest,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11],
            TileScale.Sixteen
        ))
} else {
    if (blockSettings.exists("level_1")) {
        tiles.setTilemap(tiles.createTilemap(
            hex`10001000010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010606060606060606060606060606080105050505050505050505050505050901070707070707070707070707050509010101010101010101010101010a0509010101010101010101010101010a0509010101010c0e0e0e0e0e0e0e0e0e170e0d0101011017171710171717171717170f01010110171b17101a1717171717180f0101010b151515151515151515151513`,
            img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . 2 2 2 2 2 2 2 2 2 2 . 2 2 
. . . 2 . . . 2 . . . . . . . 2 
. . . 2 . . . 2 . . . . . . . 2 
. . . 2 2 2 2 2 2 2 2 2 2 2 2 2 
`,
            [myTiles.tile0,sprites.castle.tileDarkGrass3,sprites.castle.tileDarkGrass2,sprites.castle.tileGrass1,sprites.castle.tileDarkGrass1,sprites.castle.tilePath5,sprites.castle.tilePath2,sprites.castle.tilePath8,sprites.castle.tilePath3,sprites.castle.tilePath6,sprites.castle.tilePath4,sprites.dungeon.greenInnerSouthWest,sprites.dungeon.greenInnerNorthWest,sprites.dungeon.greenInnerNorthEast,sprites.dungeon.greenOuterSouth0,sprites.dungeon.greenOuterWest1,sprites.dungeon.greenOuterEast0,sprites.dungeon.greenOuterSouthEast,sprites.dungeon.greenOuterSouthWest,sprites.dungeon.greenInnerSouthEast,sprites.dungeon.greenOuterSouth1,sprites.dungeon.greenOuterNorth0,sprites.dungeon.floorLight2,sprites.dungeon.floorDark2,myTiles.tile1,sprites.dungeon.greenOuterNorthWest,myTiles.tile2,myTiles.tile3,myTiles.tile4,myTiles.tile5,myTiles.tile6,myTiles.tile7,sprites.dungeon.greenSwitchUp,sprites.dungeon.greenSwitchDown,myTiles.tile8,myTiles.tile9,myTiles.tile10,myTiles.tile11],
            TileScale.Sixteen
        ))
    }
}
game.onUpdate(function () {
    if (the_payer_1.tileKindAt(TileDirection.Center, sprites.dungeon.collectibleInsignia)) {
        if (level == "level_1") {
            if (info.score() >= 43) {
                blockSettings.writeNumber(level, 1)
                game.over(true)
            }
        } else if (level == "level_2" && info.score() >= 37) {
            blockSettings.writeNumber(level, 1)
            game.over(true)
        } else if (level == "level_3" && info.score() >= 37) {
            blockSettings.writeNumber(level, 1)
            game.over(true)
        } else if (level == "level_4" && info.score() >= 32) {
            blockSettings.writeNumber(level, 1)
            game.over(true)
        }
    }
})
game.onUpdate(function () {
    if (the_payer_1.tileKindAt(TileDirection.Top, sprites.dungeon.purpleSwitchUp)) {
        if (level == "level_3") {
            music.magicWand.play()
            tiles.setTileAt(tiles.getTileLocation(3, 0), sprites.dungeon.purpleSwitchDown)
            tiles.setTileAt(tiles.getTileLocation(7, 4), sprites.dungeon.floorDark2)
            tiles.setWallAt(tiles.getTileLocation(7, 4), false)
        }
    }
})
forever(function () {
    if (controller.player2.isPressed(ControllerButton.A)) {
        if (flash) {
            shado = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . 1 . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.shado)
            shado.setPosition(the_player_2.x, the_player_2.y)
            shado.y += 3
            shado.setVelocity(20, 0)
            pause(100)
            shado.destroy()
        }
    }
})
forever(function () {
    if (controller.A.isPressed()) {
        if (flash) {
            shado = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . 1 . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.shado)
            shado.setPosition(the_payer_1.x, the_payer_1.y)
            shado.y += 3
            shado.setVelocity(20, 0)
            pause(100)
            shado.destroy()
        }
    }
})
forever(function () {
    if (controller.player2.isPressed(ControllerButton.A)) {
        on_flash = true
        pause(200)
        on_flash = false
        flash.setPosition(the_player_2.x, the_player_2.y)
        flash.y += 3
        flash.setFlag(SpriteFlag.Invisible, false)
        flash.setFlag(SpriteFlag.Ghost, false)
        controller.moveSprite(the_payer_1, 0, 0)
        pause(200)
        flash.setFlag(SpriteFlag.Invisible, true)
        flash.setFlag(SpriteFlag.Ghost, true)
        controller.moveSprite(the_payer_1, 100, 100)
    }
})
forever(function () {
    if (controller.A.isPressed()) {
        on_flash = true
        pause(200)
        on_flash = false
        flash.setPosition(the_payer_1.x, the_payer_1.y)
        flash.y += 3
        flash.setFlag(SpriteFlag.Invisible, false)
        flash.setFlag(SpriteFlag.Ghost, false)
        controller.moveSprite(the_payer_1, 0, 0)
        pause(200)
        flash.setFlag(SpriteFlag.Invisible, true)
        flash.setFlag(SpriteFlag.Ghost, true)
        controller.moveSprite(the_payer_1, 100, 100)
    }
})
forever(function () {
    if (info.score() == 2) {
        if (the_payer_1.isHittingTile(CollisionDirection.Bottom)) {
            if (the_payer_1.tileKindAt(TileDirection.Bottom, sprites.dungeon.doorOpenSouth)) {
                tiles.placeOnTile(the_payer_1, tiles.getTileLocation(2, 12))
                tiles.placeOnTile(the_player_2, tiles.getTileLocation(1, 13))
                gaost = sprites.create(img`
. . . . . . . . . . . . . . . . 
. . . . . . 7 7 7 7 7 . . . . . 
. . . . . 7 7 7 7 7 7 7 . . . . 
. . . . . 7 6 1 7 6 1 7 . . . . 
. . . . . 7 6 1 7 6 1 7 . . . . 
. . . . . 7 7 7 7 7 7 7 . . . . 
. . . . 7 7 7 7 7 7 7 6 . . . . 
. . . 7 7 7 7 7 7 7 6 6 . . . . 
. 7 7 7 . 7 7 7 6 6 6 7 . . . . 
. 7 7 . . 7 7 7 6 6 7 7 . . . . 
. . . . . . 7 7 7 7 7 . . . . . 
. . . . . . . 7 7 7 . . . . . . 
. . . . . . . . 7 . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`, SpriteKind.gost)
                tiles.placeOnTile(gaost, tiles.getTileLocation(10, 13))
                gaost.follow(the_payer_1, 40)
            }
        }
    }
})
forever(function () {
    if (controller.B.isPressed()) {
        suker.setPosition(the_payer_1.x, the_payer_1.y)
        suker.y += 3
        suker.setFlag(SpriteFlag.Invisible, false)
        suker.setFlag(SpriteFlag.Ghost, false)
        controller.moveSprite(the_payer_1, 0, 0)
        while (controller.B.isPressed()) {
            pause(1)
        }
        suker.setFlag(SpriteFlag.Invisible, true)
        suker.setFlag(SpriteFlag.Ghost, true)
        controller.moveSprite(the_payer_1, 100, 100)
        pause(200)
    }
})
forever(function () {
    if (controller.player2.isPressed(ControllerButton.B)) {
        suker.setPosition(the_player_2.x, the_player_2.y)
        suker.y += 3
        suker.setFlag(SpriteFlag.Invisible, false)
        suker.setFlag(SpriteFlag.Ghost, false)
        controller.moveSprite(the_payer_1, 0, 0)
        pause(500)
        suker.setFlag(SpriteFlag.Invisible, true)
        suker.setFlag(SpriteFlag.Ghost, true)
        controller.moveSprite(the_payer_1, 100, 100)
        pause(200)
    }
})
forever(function () {
    if (level == "level_3") {
        music.playMelody("E B C5 A B G A F ", 185)
    } else {
        music.playMelody("D D E C D D D C ", 396)
        music.playMelody("D D D C D D E C ", 396)
    }
})
